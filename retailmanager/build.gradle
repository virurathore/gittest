buildscript {
  ext {
        springBootVersion = '1.3.5.RELEASE'
    }
    repositories {
        mavenLocal()
        mavenCentral()
        maven { url 'http://repo.spring.io/snapshot' }
        maven { url 'http://repo.spring.io/milestone' } 
        maven { url 'http://repo.spring.io/libs-release' }
    }
    dependencies {
       classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
       classpath "io.spring.gradle:dependency-management-plugin:0.6.0.RELEASE"
    }
}


apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'eclipse'
apply plugin: 'spring-boot'
apply plugin: "io.spring.dependency-management"
apply plugin: 'project-report'
apply plugin: 'build-dashboard'
apply plugin: 'checkstyle'
apply plugin: 'pmd'


jar {
	baseName = 'retailmanager'
	version = '0.0.1-SNAPSHOT'
}


group = 'org.retailmanager'
version = '0.0.1-SNAPSHOT'

description = """"""

sourceCompatibility = 1.8
targetCompatibility = 1.8

ext {
  checkstyleVersion = '6.16.1'
  pmdVersion = '5.4.1'
}


repositories {
        
     maven { url "http://repo.maven.apache.org/maven2" }
}
dependencies {
	compile group: 'org.springframework.boot', name: 'spring-boot-starter'
    compile group: 'org.springframework.boot', name: 'spring-boot-starter-web'
    compile group: 'com.google.maps', name: 'google-maps-services', version:'0.1.15'
	testCompile group: 'org.springframework.boot', name: 'spring-boot-starter-test'
}

dependencyManagement {
    imports { 
        mavenBom "org.springframework.cloud:spring-cloud-starter-parent:Brixton.RELEASE" 
    }
}

checkstyle {
  toolVersion = checkstyleVersion
  config = rootProject.resources.text.fromFile('etc/checkstyle/rules.xml')
}

pmd {
  toolVersion = pmdVersion
  ruleSetConfig = rootProject.resources.text.fromFile('etc/pmd/ruleset.xml')
  ignoreFailures = true
}

check.finalizedBy projectReport

projectReport.finalizedBy buildDashboard
